I will implement the Billing features in the Settings page as follows:

### 1. Database Schema Updates
- **New Table `system_settings`**: To store the global pricing configuration.
  - Columns: `key` (text, PK), `value` (jsonb/text), `description` (text).
  - Initial Data: Key `credit_price_usd_per_1k` = `10`.
- **Update `merchants` Table**: Add a `credits` column (integer, default 100) to track the available balance.
- **New RPC Function**: Create a stored procedure `top_up_credits(merchant_id, credit_amount)` to safely increment the merchant's balance.

### 2. Frontend Components (`src/components/settings/`)
- **`BillingSettings.tsx`**: The main container for the Billing tab.
  - **Usage Overview**:
    - Display **Current Balance** (from `merchants.credits`).
    - Display **Tasks Used** (count from `ai_task_logs`).
  - **Pricing Plan**:
    - Display the rate: "$10 for 1,000 Tasks".
    - "Top Up" button to trigger the payment flow.
- **`TopUpModal.tsx`**:
  - A modal with a "Fake Payment Wall".
  - Inputs: Credit Card Number, Expiry, CVC (visual only).
  - Preset options: $10 (1k credits), $50 (5k credits), $100 (10k credits).
  - Action: Calls the `top_up_credits` RPC function upon "Payment Success".

### 3. Integration
- Update **`src/pages/Settings.tsx`** to replace the "Coming Soon" placeholder in the **Billing** tab with the new `BillingSettings` component.

### 4. Verification
- Verify that the pricing is fetched from the database.
- Verify that "paying" adds credits to the merchant's balance.
- Verify that usage stats reflect the `ai_task_logs`.
