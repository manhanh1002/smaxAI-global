I will build a complete Admin System for SmaxAI as follows:

### 1. Database Schema Updates
*   **New Table `admins`**: To store authorized admin users (`id` referencing `auth.users`, `email`, `name`).
*   **New Table `credit_packages`**: To manage pricing options dynamically.
    *   Columns: `id`, `name`, `credits`, `price_usd`, `description`, `is_active`.
    *   Initial Seed: Starter (1k/$10), Growth (5k/$45), Scale (10k/$85).
*   **New Table `transactions`**: To record purchase history.
    *   Columns: `id`, `merchant_id`, `package_id` (nullable), `amount_credits`, `amount_usd`, `status`, `created_at`.
*   **Update RPC `top_up_credits`**: Modify the function to also insert a record into the `transactions` table when credits are added.

### 2. Frontend Implementation (New `/admin` Section)
*   **Admin Layout**: A dedicated sidebar layout distinct from the merchant view.
*   **Routes**:
    *   `/admin/login`: Separate login page for admins.
    *   `/admin/dashboard`: Overview stats (Total Revenue, Total Merchants, Total AI Tasks).
    *   `/admin/transactions`: Table listing all merchant purchases.
    *   `/admin/pricing`: CRUD interface for `credit_packages` and the global rate (`credit_price_usd_per_1k`).
    *   `/admin/settings`: Input field to manage the `admin_openai_api_key` securely.

### 3. Logic Integration
*   **Authentication**: Implement a check in `store.ts` or a new `AdminRoute` component to verify if the logged-in user exists in the `admins` table.
*   **Merchant Billing Update**: Update the existing `BillingSettings.tsx` to fetch packages from the new `credit_packages` table instead of using hardcoded values.

### 4. Verification
*   Create a test admin user.
*   Log in as admin and verify dashboard stats.
*   Create a new pricing package and verify it appears in the Merchant's Billing page.
*   Perform a top-up as a merchant and verify the transaction appears in the Admin Transactions list.
